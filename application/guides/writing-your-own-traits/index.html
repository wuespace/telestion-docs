<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Writing your own traits | Telestion Dev Hub</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.telestion.wuespace.de//application/guides/writing-your-own-traits/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-docs-current"><meta data-react-helmet="true" property="og:title" content="Writing your own traits | Telestion Dev Hub"><meta data-react-helmet="true" name="description" content="Traits are a convenient way to remove duplicate code and clean up your codebase. Learn how to write your traits."><meta data-react-helmet="true" property="og:description" content="Traits are a convenient way to remove duplicate code and clean up your codebase. Learn how to write your traits."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.telestion.wuespace.de//application/guides/writing-your-own-traits/"><link data-react-helmet="true" rel="alternate" href="https://docs.telestion.wuespace.de//application/guides/writing-your-own-traits/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.telestion.wuespace.de//application/guides/writing-your-own-traits/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ad27d6e6.css">
<link rel="preload" href="/assets/js/runtime~main.6db03b85.js" as="script">
<link rel="preload" href="/assets/js/main.0ab633e7.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Telestion Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="Telestion Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Telestion Docs</b></a><a class="navbar__item navbar__link" href="/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/application/">Application</a><a class="navbar__item navbar__link" href="/client/">Client</a></div><div class="navbar__items navbar__items--right"><a href="https://telestion.wuespace.de" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Project Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-docs-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/application/">Application Development</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/application/concepts/">Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/application/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" href="/application/guides/">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/application/guides/writing-your-own-traits/">Writing your own traits</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://javadoc.io/doc/de.wuespace.telestion/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>API Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Writing your own traits</h1></header><p>This guide teaches you how to write your own traits in Java while using the
Telestion APIs.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Is this the right guide for you?</h5></div><div class="admonition-content"><p>This guide primarily targets Backend Developers and everyone who wants to write
their own traits.</p><p>To best understand the topics covered here, you should be familiar with the
following concepts before reading this article:</p><ul><li><a href="/application/concepts/traits/">The concept of traits</a></li><li><a href="/application/tutorials/using-traits-in-verticles/">Using traits in Verticles</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="before-implementing-your-own-trait">Before implementing your own trait<a class="hash-link" href="#before-implementing-your-own-trait" title="Direct link to heading">â€‹</a></h2><p>Before you implement your trait, first sit back and think about the following
questions:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="what-specific-problem-wants-your-trait-to-solve">What specific problem wants your trait to solve?<a class="hash-link" href="#what-specific-problem-wants-your-trait-to-solve" title="Direct link to heading">â€‹</a></h3><p>First, write down the scope of your problem and try to slice it up into
specialized feature sets. One great feature of Java interfaces is that you can
import more than one of them at once. &quot;Importing&quot; more than one interface keeps
a trait&#x27;s source file small, readable and maintainable.</p><p>It&#x27;s not a good idea to push every feature into one giant trait. Too big traits
bloat the implementing class and pollute the class&#x27;s namespace, which can create
name collisions.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="are-there-existing-interfaces-or-traits-you-can-use-to-support-your-trait">Are there existing interfaces or traits you can use to support your trait?<a class="hash-link" href="#are-there-existing-interfaces-or-traits-you-can-use-to-support-your-trait" title="Direct link to heading">â€‹</a></h3><p>Most of the time, you want to write a trait is when you implement the same
feature over and over again in different parts of your Application. The
maintenance of your code shrinks, and you don&#x27;t have the ultimate source of
truth because two or more implementations diverged at some point.</p><p>Try to find these implementations and look at what features you use. Is there an
existing interface or trait that you can extend? If that&#x27;s the case, that&#x27;s
great because you can keep your source code footprint small and maintainable.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="are-there-other-users-that-want-to-use-your-trait-in-a-different-context">Are there other users that want to use your trait in a different context?<a class="hash-link" href="#are-there-other-users-that-want-to-use-your-trait-in-a-different-context" title="Direct link to heading">â€‹</a></h3><p>It&#x27;s already handy to write a trait for your specialized context. It becomes
even more helpful when you can re-use it in a lot of places at once. But what if
your trait is so restrictive that you cannot re-use it elsewhere?</p><p>Try to think about a greater context of your trait and where you can use it.
Another neat feature of Java is method overloading. You can define more than one
method with the same name but different argument sets. Then, the compiler
automatically selects the most suitable method for the problem you want to solve
with your imported trait.</p><p>Then you can extend your specialized method by adding more methods with a
different and broader set of arguments.</p><p>The user of your trait thanks you later. ðŸ˜‰</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="decision">Decision<a class="hash-link" href="#decision" title="Direct link to heading">â€‹</a></h3><p>If you don&#x27;t understand all things right away, that&#x27;s okay. Take a look at the
example below for better understanding.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="example-implementation-of-a-trait">Example implementation of a trait<a class="hash-link" href="#example-implementation-of-a-trait" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-problem">The problem<a class="hash-link" href="#the-problem" title="Direct link to heading">â€‹</a></h3><p>Imagine having more than one verticle that use the <code>vertx.eventBus()</code> context.
They use <code>JsonMessage</code> based messages to communicate with each other.</p><p>Thus, they need to convert the received messages to the wanted <code>&quot;JsonMessage&quot;</code>
type every time.</p><p>For example:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Responder.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public class Responder extends TelestionVerticle&lt;GenericConfiguration&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onStart() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var eb = vertx.eventBus();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eb.consumer(&quot;some-address&quot;, message -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      JsonMessage.on(SpecialMessage.class, message, body -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.debug(&quot;Received: {}&quot;, body);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // do some calcuation or change something</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var result = new SpecialMessage(/* [...] */);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        message.reply(result.json());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eb.publish(&quot;update-address&quot;, result.json());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Repeater.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public class Repeater extends TelestionVerticle&lt;GenericConfiguration&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onStart() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var eb = vertx.eventBus();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var delay = Duration.ofSeconds(1).toMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vertx.setInterval(delay, id -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      var message = new PingMessage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      var options = new DeliveryOptions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      var headers = options.getHeaders()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .add(&quot;send-time&quot;, System.currentTimeInMillis());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      eb.publish(&quot;ping-address&quot;, message.json(), options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Rerequester.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public class Rerequester extends TelestionVerticle&lt;GenericConfiguration&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onStart() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var eb = vertx.eventBus();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eb.consumer(&quot;request-address&quot;, message -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      JsonMessage.on(RequestMessage.class, message, request -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // okay, we received a request message, we need another request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var internalRequest = new InternalMessage(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eb.request(&quot;internal-address&quot;, internalRequest.json(), result -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          if (!result.failed()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            message.reply(result.result());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            message.fail(500, &quot;Ohh something went wrong.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Do you see the repetition?</p><p>You can do that better. Introduce a trait that allows verticles to get better
and simpler access to the event bus.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="defining-the-trait">Defining the trait<a class="hash-link" href="#defining-the-trait" title="Direct link to heading">â€‹</a></h3><p>You need a name for your new trait. What&#x27;s about <code>WithEventBus</code>?</p><p>Define it:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public interface WithEventBus {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Hmm, how do you get access to the event bus instance? Traits should not force
the using class to implement a function.</p><p>Every Verticle implements the <code>Verticle</code> interface. That&#x27;s your access point.</p><a href="https://vertx.io/docs/apidocs/io/vertx/core/Verticle.html" target="_blank" rel="noopener noreferrer" class="block-link"><span>`Verticle` API reference<!-- --> Â»</span><span>https://vertx.io/docs/apidocs/io/vertx/core/Verticle.html</span></a><p>Add it to your existing implementation:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">public interface WithEventBus extends Verticle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Exposed interfaces</h5></div><div class="admonition-content"><p>A lot of types exposed types on the Vert.x framework are Java interfaces. The
implementation side of Vert.x often imports these. If you want to write traits
for Verticles and other types, these interfaces are your intercept point.</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-publish-method">The <code>publish</code> method<a class="hash-link" href="#the-publish-method" title="Direct link to heading">â€‹</a></h3><p>Now that you have the definition of your trait, add the first method:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public interface WithEventBus extends Verticle {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  default void publish(String address, Object message) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    getVertx().eventBus().publish(address, message);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You start with the publishing part and add a method to publish messages on a
specific event bus channel.</p><p>That&#x27;s an improvement because the Verticle doesn&#x27;t need to extract the event bus
instance anymore. But what&#x27;s with the <code>JsonMessage</code> based messages. You must
convert them to <code>JsonObject</code> before transmitting them over the event bus.</p><p>Overload the <code>publish</code> method to handle <code>JsonMessage</code> messages in a special way:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public interface WithEventBus extends Verticle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default void publish(String address, Object message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getVertx().eventBus().publish(address, message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  default void publish(String address, JsonMessage message) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    publish(address, message.json());</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The overloaded method accepts <code>JsonMessage</code> as a message type, so you are safe
to call <code>json()</code> on it to convert it to a <code>JsonObject</code>. Then you pass the
arguments further to the base method.</p><p>Now the user of your trait cannot forget the conversion anyone because you do
it. That&#x27;s convenient.</p><p>Now repeat this step with the call method call but you want to provide delivery
options, too:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public interface WithEventBus extends Verticle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default void publish(String address, Object message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getVertx().eventBus().publish(address, message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  default void publish(String address, Object message, DeliveryOptions options) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    getVertx().eventBus().publish(address, message, options);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default void publish(String address, JsonMessage message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    publish(address, message.json());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  default void publish(String address, JsonMessage message, DeliveryOptions options) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    publish(address, message.json(), options);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The user of your trait can provide delivery options if they like. But they
aren&#x27;t forced to do so because you provide a method without any options. That&#x27;s
convenient, too.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-register-method">The <code>register</code> method<a class="hash-link" href="#the-register-method" title="Direct link to heading">â€‹</a></h3><p>Repeat this procedure for the <code>consumer</code> method from the event bus instance. Add
a <code>register</code> method to your trait:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public interface WithEventBus extends Verticle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  default &lt;T&gt; void register(String address, Handler&lt;Message&lt;T&gt;&gt; handler) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    getVertx().eventBus().consumer(address, handler);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>In this example, you provide convenient access to the consuming side of the
event bus and rename the method to specify better the behavior that your trait&#x27;s
user expects.</p><p>To integrate the automatic conversion from receiving messages to <code>JsonMessage</code>
based messages, you need to write a functional interface that provides the
converted type to the implementing method:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">MessageHandler.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@FunctionalInterface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface MessageHandler&lt;T extends JsonMessage&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  void handle(T body);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now, you use that interface in the <code>WithEventBus</code> trait:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public interface WithEventBus extends Verticle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default &lt;T&gt; void register(String address, Handler&lt;Message&lt;T&gt;&gt; handler) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getVertx().eventBus().consumer(address, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  default &lt;V extends JsonMessage&gt; void register(String address, MessageHandler&lt;V&gt; handler, Class&lt;V&gt; type) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    this.&lt;JsonObject&gt;register(address, message -&gt; JsonMessage.on(type, message, handler));</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now, the <code>register</code> method automatically converts the incoming message to the
specified type when the user provides it.</p><p>The same step is repeatable so that the handler provides the converted message
body but also the message itself:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">ExtendedMessageHandler.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@FunctionalInterface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface ExtendedMessageHandler&lt;V extends JsonMessage, T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void handle(V body, Message&lt;T&gt; message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">WithEventBus.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public interface WithEventBus extends Verticle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default &lt;T&gt; void register(String address, Handler&lt;Message&lt;T&gt;&gt; handler) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getVertx().eventBus().consumer(address, handler);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default &lt;V extends JsonMessage&gt; void register(String address, MessageHandler&lt;V&gt; handler, Class&lt;V&gt; type) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.&lt;JsonObject&gt;register(address, message -&gt; JsonMessage.on(type, message, handler));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  default &lt;V extends JsonMessage, T&gt; void register(</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    String address,</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    ExtendedMessageHandler&lt;V, T&gt; handler,</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    Class&lt;V&gt; type) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">      this.&lt;JsonObject&gt;register(address,</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        message -&gt; JsonMessage.on(type, message,</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">          body -&gt; handler.handle(body, message)));</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You can extend your trait further with more event bus methods if you like. But
for this example, the current features can already reduce repetition in the
sample verticles.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="refactoring-of-the-sample-verticles">Refactoring of the sample verticles<a class="hash-link" href="#refactoring-of-the-sample-verticles" title="Direct link to heading">â€‹</a></h3><p>The <code>WithEventBus</code> now simplifies the access to the event bus in verticles.
Update the sample verticle using your new trait:</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Responder.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">public class Responder extends TelestionVerticle&lt;GenericConfiguration&gt;</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    implements WithEventBus {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onStart() {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    register(&quot;some-address&quot;, this::handle, SpecialMessage.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  private void handle(SpecialMessage body, Message&lt;JsonObject&gt; message) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    logger.debug(&quot;Received: {}&quot;, body);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    // do some calcuation or change something</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    var result = new SpecialMessage(/* [...] */);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    message.reply(result.json());</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    publish(&quot;update-address&quot;, result);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Repeater.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">public class Repeater extends TelestionVerticle&lt;GenericConfiguration&gt;</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    implements WithEventBus {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onStart() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var delay = Duration.ofSeconds(1).toMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vertx.setInterval(delay, id -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      var message = new PingMessage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      var options = new DeliveryOptions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      var headers = options.getHeaders()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .add(&quot;send-time&quot;, System.currentTimeInMillis());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">      publish(&quot;ping-address&quot;, message, options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-java theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Rerequester.java</div><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">public class Rerequester extends TelestionVerticle&lt;GenericConfiguration&gt;</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    implements WithEventBus {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void onStart() {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    register(&quot;request-address&quot;, this::handle, RequestMessage.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  private void handle(RequestMessage request, Message&lt;JsonObject&gt; message) {</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    // okay, we received a request message, we need another request</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    var internalRequest = new InternalMessage(request);</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    request(&quot;internal-address&quot;, internalRequest)</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">      .onSuccess(response -&gt; message.reply(response))</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">      .onFailure(cause -&gt; message.fail(500, cause.getMessage()));</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You can write even more traits for Verticle. For example, the timing functions
or shared data from the <code>vertx</code> context.</p><p>The Telestion API provides a lot more traits for verticles:</p><a href="https://javadoc.io/doc/de.wuespace.telestion/telestion-api/latest/de/wuespace/telestion/api/verticle/trait/package-summary.html" target="_blank" rel="noopener noreferrer" class="block-link"><span>List of Telestion Core Verticle traits<!-- --> Â»</span><span>https://javadoc.io/doc/de.wuespace.telestion/telestion-api/latest/de/wuespace/telestion/api/verticle/trait/package-summary.html</span></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="see-also">See also<a class="hash-link" href="#see-also" title="Direct link to heading">â€‹</a></h2><a class="block-link" href="/application/concepts/traits/"><span>Traits concept<!-- --> Â»</span><span>/application/concepts/traits/</span></a><a class="block-link" href="/application/tutorials/using-traits-in-verticles/"><span>Using traits in Verticles<!-- --> Â»</span><span>/application/tutorials/using-traits-in-verticles</span></a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wuespace/telestion-docs/edit/main/docs/application/guides/200-writing-your-own-traits.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/application/guides/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Guides</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/application/references/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">References</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-implementing-your-own-trait" class="table-of-contents__link toc-highlight">Before implementing your own trait</a><ul><li><a href="#what-specific-problem-wants-your-trait-to-solve" class="table-of-contents__link toc-highlight">What specific problem wants your trait to solve?</a></li><li><a href="#are-there-existing-interfaces-or-traits-you-can-use-to-support-your-trait" class="table-of-contents__link toc-highlight">Are there existing interfaces or traits you can use to support your trait?</a></li><li><a href="#are-there-other-users-that-want-to-use-your-trait-in-a-different-context" class="table-of-contents__link toc-highlight">Are there other users that want to use your trait in a different context?</a></li><li><a href="#decision" class="table-of-contents__link toc-highlight">Decision</a></li></ul></li><li><a href="#example-implementation-of-a-trait" class="table-of-contents__link toc-highlight">Example implementation of a trait</a><ul><li><a href="#the-problem" class="table-of-contents__link toc-highlight">The problem</a></li><li><a href="#defining-the-trait" class="table-of-contents__link toc-highlight">Defining the trait</a></li><li><a href="#the-publish-method" class="table-of-contents__link toc-highlight">The <code>publish</code> method</a></li><li><a href="#the-register-method" class="table-of-contents__link toc-highlight">The <code>register</code> method</a></li><li><a href="#refactoring-of-the-sample-verticles" class="table-of-contents__link toc-highlight">Refactoring of the sample verticles</a></li></ul></li><li><a href="#see-also" class="table-of-contents__link toc-highlight">See also</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Telestion</div><ul class="footer__items"><li class="footer__item"><a href="https://telestion.wuespace.de" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/">Project Documentation</a></li><li class="footer__item"><a href="https://telestion.wuespace.de/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Development Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.wuespace.de" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>WÃ¼Space e. V.<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/wuespace" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC1mwTgqCY5-G1RouptOXnSg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/internal/">Internal Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/writers-guide/">Writer&#x27;s Guide</a></li><li class="footer__item"><a href="https://github.com/wuespace/telestion" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://wuespace.de/legal-notice/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Legal Notice<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://wuespace.de/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 WÃ¼Space e. V. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6db03b85.js"></script>
<script src="/assets/js/main.0ab633e7.js"></script>
</body>
</html>