---
title: Writing a Verticle
---

In this tutorial, we write a simple verticle for the Telestion ecosystem.

:::info Prerequisites

To complete this tutorial, you should be familiar with standard Java programming
structures.

:::

## What we'll build

```java title='MessageTransformer.java'
package de.wuespace.telestion.project.daedalus2;

import com.fasterxml.jackson.annotation.JsonProperty;
import de.wuespace.telestion.api.config.Config;
import de.wuespace.telestion.api.message.JsonMessage;
import de.wuespace.telestion.project.daedalus2.mavlink.SeedSystemT;
import de.wuespace.telestion.project.daedalus2.messages.*;
import io.vertx.core.AbstractVerticle;
import io.vertx.core.Promise;

public class MessageTransformer extends AbstractVerticle {
 private Configuration config;

 @SuppressWarnings("unused")
 public MessageTransformer() {
  this(null);
 }

 public MessageTransformer(Configuration config) {
  this.config = config;
 }

 @Override
 public void start(Promise<Void> startPromise) {
  var eb = vertx.eventBus();

  this.config = Config.get(
    this.config, 
    config(), 
    Configuration.class
  );

  eb.consumer(this.config.inAddress(), raw -> JsonMessage.on(
    SeedSystemT.class,
    raw,
    rawSystemT -> {
      var beautifulMessage = new SystemT(rawSystemT);
      eb.publish(
        this.config.outAddress(), 
        beautifulMessage.json()
      );
    }
  ));

  startPromise.complete();
 }

 public record Configuration(
   @JsonProperty
   String inAddress,
   @JsonProperty
   String outAddress
 ) implements JsonMessage {
  @SuppressWarnings("unused")
  private Configuration() {
   this(null, null);
  }
 }
}
```

## Steps

### Step 1: Create a new verticle

### Step 2: Listen to messages

### Step 3: Republish Messages

### Step 4: Add configuration options

## Next steps
