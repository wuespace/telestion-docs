"use strict";(self.webpackChunktelestion_docs=self.webpackChunktelestion_docs||[]).push([[950],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=s(n),m=a,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||i;return n?r.createElement(h,l(l({ref:t},p),{},{components:n})):r.createElement(h,l({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=u;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4966:(e,t,n)=>{n.d(t,{kN:()=>c,rj:()=>a,Ee:()=>u,s3:()=>l});var r=n(7294);function a(e){let{cols:t=2,children:n}=e;return r.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,columnGap:"1em"}},n)}var i=n(9960);function l(e){let{children:t,to:n}=e;return r.createElement(i.Z,{to:n,className:"block-link"},r.createElement("span",null,t," \xbb"),r.createElement("span",null,n))}const o=()=>r.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},r.createElement("defs",null,r.createElement("style",null,".a{clip-path:url(#b);}"),r.createElement("clipPath",{id:"b"},r.createElement("rect",{width:24,height:24}))),r.createElement("g",{id:"a",className:"a"},r.createElement("path",{d:"M4,20a4,4,0,0,1-4-4V12a2,2,0,0,1,2-2v6a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2V10a2,2,0,0,1,2,2v4a4,4,0,0,1-4,4Zm5.389-6.208-.02-.015h0l-.02-.016c-.02-.016-.038-.034-.057-.052L3.636,8.05A1,1,0,1,1,5.05,6.636L9,10.587V1a1,1,0,0,1,2,0v9.586l3.949-3.95A1,1,0,0,1,16.364,8.05l-5.639,5.638a1,1,0,0,1-1.336.1Z",transform:"translate(2 2)"})));function c(e){let{children:t,file:n}=e;return r.createElement("a",{className:"block-link",download:!0,href:n},r.createElement("span",null,r.createElement(o,null)," ",t))}var s=n(7462),p=n(4996),d=n(6010);function u(e){let{src:t,invertible:n=!1,center:a=!1,alt:l="",...o}=e;const c=t.startsWith("/static")?t.substr(7):t,u=(0,p.Z)(c);return r.createElement(r.Fragment,null,r.createElement(i.Z,{to:c,style:{display:"none"}},"Link to ",l),r.createElement("img",(0,s.Z)({src:u,className:(0,d.Z)(n&&"invertible",a&&"center"),alt:l},o)))}},8655:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>c,toc:()=>p});var r=n(7462),a=(n(7294),n(3905)),i=n(4966);const l={title:"Event Loop",description:"The running mechanism behind a Verticle"},o=void 0,c={unversionedId:"application/concepts/event-loop",id:"application/concepts/event-loop",title:"Event Loop",description:"The running mechanism behind a Verticle",source:"@site/docs/application/concepts/111-event-loop.mdx",sourceDirName:"application/concepts",slug:"/application/concepts/event-loop",permalink:"/application/concepts/event-loop",draft:!1,editUrl:"https://github.com/wuespace/telestion-docs/edit/main/docs/application/concepts/111-event-loop.mdx",tags:[],version:"current",sidebarPosition:111,frontMatter:{title:"Event Loop",description:"The running mechanism behind a Verticle"},sidebar:"application",previous:{title:"Verticle",permalink:"/application/concepts/verticle"},next:{title:"Traits",permalink:"/application/concepts/traits"}},s={},p=[{value:"Java Thread distribution",id:"java-thread-distribution",level:2},{value:"Event Loop inside a Verticle Thread",id:"event-loop-inside-a-verticle-thread",level:2},{value:"See also",id:"see-also",level:2}],d={toc:p};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The event loop is the executing mechanism of a Verticle."),(0,a.kt)("h2",{id:"java-thread-distribution"},"Java Thread distribution"),(0,a.kt)("p",null,"In Vert.x, every verticle runs in its own thread and waits for incoming events\n(",(0,a.kt)("em",{parentName:"p"},"event-driven"),")."),(0,a.kt)("p",null,"The Java main thread executes the Vert.x instance which in turn:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"deploys and undeploys verticles"),(0,a.kt)("li",{parentName:"ul"},"coordinates the startup and shutdown of all verticles"),(0,a.kt)("li",{parentName:"ul"},"provides the APIs so that verticles can talk to each other and with the\noutside world (e.g. the event bus)")),(0,a.kt)(i.Ee,{src:"/static/img/drawio-diagrams/vertx/java-threads.drawio.svg",invertible:!0,center:!0,mdxType:"Image"}),(0,a.kt)("p",null,"A verticle thread:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"spawns")," once the verticle starts"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"executes")," asynchronous code inside the verticle on incoming events (which can\ntrigger other events)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"dies")," once the verticle stops")),(0,a.kt)("h2",{id:"event-loop-inside-a-verticle-thread"},"Event Loop inside a Verticle Thread"),(0,a.kt)(i.Ee,{src:"/static/img/drawio-diagrams/vertx/verticle-event-loop.drawio.svg",invertible:!0,center:!0,mdxType:"Image"}),(0,a.kt)("p",null,"Since a verticle is only executed by one thread, this thread must handle all\nincoming events and their connected event handlers."),(0,a.kt)("p",null,"Most of the time this isn't a problem, especially if the event handler is\ncompact and runs fast code. But once the thread grabs an event handler that\ncontains blocking or heavy-lifting code, new events clog up the event queue,\nmaking the verticle unresponsive."),(0,a.kt)("p",null,'Therefore, Vert.x and Telestion use asynchronous code structures to move the\nblocking part away from the Verticle Thread into another "service" Thread which\nhandles the resource-intensive task (e.g. the HTTP server in turn spawns another\nThread in the background to efficiently handle incoming connections).'),(0,a.kt)("h2",{id:"see-also"},"See also"),(0,a.kt)(i.s3,{to:"/application/guides/writing-asynchronous-code",mdxType:"Reference"},"Writing asynchronous code"),(0,a.kt)(i.s3,{to:"/application/concepts/verticle",mdxType:"Reference"},"The Verticle"))}u.isMDXComponent=!0}}]);